#!/usr/bin/env bash
set -e

msg="${1:-save}"

# Stage only tracked files
git add -u

# If nothing is staged, exit without pushing
if git diff --cached --quiet; then
  echo "Nothing to commit"
  exit 0
fi

# Commit and push
git commit -m "$msg"
git push
g